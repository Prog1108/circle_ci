version: 2
jobs:
    build:
        docker:
            - image: circleci/python:3.6
        steps:
            # ソースコードのチェックアウト
            - checkout
            - run: |
                python3.6 -m venv venv
                source ./venv/bin/activate    
            # pytestをインストール
                pip install pytest
            # pytestコマンドの実行
                pytest test_calculations.py --junit-xml=test-results/pytest.xml
            # テスト結果の保存先を指定
            - store_test_results:
                path: test-results
